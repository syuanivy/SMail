CREATE TABLE users(id INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,username TXT UNIQUE NOT NULL, password TXT NOT NULL);
insert into users(username,password) values('shuai','shuai');
insert into users(username,password) values('ivy','ivy');
insert into users(username,password) values('su','xyz');
insert into users(username,password) values('danyang','456');
insert into users(username,password) values('huan','abc');




CREATE TABLE accounts(email_address TEXT PRIMARY KEY,smtp TEXT NOT NULL, smtp_port INTEGER NOT NULL, pop TEXT NOT NULL, pop_port INTEGER NOT NULL, ssl INTEGER DEFAULT 1, username TEXT NOT NULL, password TEXT NOT NULL, my_user TEXT NOT NULL, FOREIGN KEY (my_user) REFERENCES users(username));
insert into accounts values('syuanivy@gmail.com','smtp.gmail.com',465,'pop.gmail.com',110,1,'syuanivy','624426@ivy!!!','ivy');
insert into accounts values('yuanshuaikey@163.com','smtp.163.com',25,'pop.163.com',110,0,'yuanshuaikey','624426ivy','shuai');



CREATE TABLE incoming(id TXT PRIMARY KEY, sender TXT, recipient TXT NOT NULL, subject TXT, body TXT, attached INT DEFAULT 0, label INT DEFAULT 0, time TXT DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (recipient) REFERENCES accounts(email_address));
insert into incoming(id,sender,recipient, subject,body) VALUES ('gmail0001', 'syuanivy@gmail.com','syuanivy@gmail.com','receive1','is trouble!');
insert into incoming(id, sender,recipient, subject,body) VALUES ('gmail0002', 'yuanshuaikey@163.com','syuanivy@gmail.com','receive2','is it working?');



CREATE TABLE outgoing(id INTEGER PRIMARY KEY AUTOINCREMENT, sender TXT NOT NULL, recipient TXT, subject TXT, body TXT, attached INT DEFAULT 0, sent INT DEFAULT 0, time TXT DEFAULT CURRENT_TIMESTAMP, FOREIGN KEY (sender) REFERENCES accounts(email_address));
insert into outgoing(sender,recipient, subject,body) VALUES ('syuanivy@gmail.com','syuanivy@gmail.com','db','is trouble!');
insert into outgoing(sender,recipient, subject,body) VALUES ('yuanshuaikey@163.com','syuanivy@gmail.com','163','is it working?');
